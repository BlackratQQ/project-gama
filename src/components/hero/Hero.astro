---
import Button from '../Button.astro';
import ArrowDown from '../ArrowDown.astro';
import SocialProof from '../shared/SocialProof.astro';
import LightRays from '../react/hero/LightRays.tsx';

// JSON-LD structured data pro SEO
const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Person',
  name: 'Váš Název',
  jobTitle: 'IT Developer',
  description:
    'Freelance IT developer specializující se na UX, front-end a back-end design, řešení technických problémů a rychlé doručení výsledků.',
  url: typeof window !== 'undefined' ? window.location.origin : 'https://example.com',
  image: '/Portrait.webp',
  sameAs: ['https://github.com/yourusername', 'https://linkedin.com/in/yourusername'],
  address: {
    '@type': 'PostalAddress',
    addressCountry: 'CZ',
    addressLocality: 'Czech Republic',
  },
  knowsAbout: [
    'UX Design',
    'Front-end Development',
    'Back-end Development',
    'Web Development',
    'Process Automation',
    'React',
    'TypeScript',
    'Astro',
    'JavaScript',
  ],
  offers: [
    {
      '@type': 'Service',
      name: 'UX, front-end i back-end design',
      description: 'Kompletní návrh a implementace webových aplikací',
      provider: {
        '@type': 'Person',
        name: 'Váš Název',
      },
    },
    {
      '@type': 'Service',
      name: 'Bleskové KO technických problémů',
      description: 'Rychlé řešení technických výzev a problémů',
      provider: {
        '@type': 'Person',
        name: 'Váš Název',
      },
    },
    {
      '@type': 'Service',
      name: 'Rychlé doručení výsledků',
      description: 'Efektivní dodávka projektů v krátkém čase',
      provider: {
        '@type': 'Person',
        name: 'Váš Název',
      },
    },
  ],
  contactPoint: {
    '@type': 'ContactPoint',
    contactType: 'business inquiry',
    availableLanguage: ['Czech', 'English'],
  },
};

// Pole s položkami pro SocialProof komponentu
const heroItems = [
  { text: 'UX, front-end i back-end design', iconName: 'FaLayerGroup' },
  { text: 'Bleskové KO technických problémů', iconName: 'FaBolt' },
  { text: 'Rychlé doručení výsledků', iconName: 'FaRocket' },
];
---

<!-- JSON-LD Structured Data pro SEO -->
<script type="application/ld+json" is:inline set:html={JSON.stringify(jsonLd)} />

<main role="main" aria-label="Hlavní hero sekce" class="relative min-h-screen">
  <div class="gradient-hero"></div>
  
  <!-- LightRays pozadí s performance optimalizací -->
  <div class="absolute inset-0 z-[1]">
    <LightRays
      client:idle
      raysOrigin="top-center"
      raysColor="#ffffff"
      raysSpeed={1.5}
      lightSpread={1.4}
      rayLength={3}
      followMouse={true}
      mouseInfluence={0.1}
      noiseAmount={0.1}
      distortion={0.05}
      className="w-full h-full"
    />
  </div>
  
  <!-- CSS Fallback pro performance -->
  <div class="absolute inset-0 z-[1] bg-gradient-radial from-white/5 via-white/2 to-transparent opacity-30 pointer-events-none lg:opacity-20"></div>

  <!-- Obsah Hero sekce -->
  <div
    class="container relative z-20 mx-auto px-3 min-h-screen flex items-center min-[1024px]:max-[1279px]:items-start min-[1024px]:max-[1279px]:pt-16"
  >
    <div
      class="w-full lg:w-4/5 lg:max-w-4xl lg:pr-8 text-center lg:text-left flex flex-col lg:block justify-between lg:justify-start min-h-[80vh] lg:min-h-0 min-[1024px]:max-[1279px]:mt-12"
    >
      <!-- Div 1: Nadpisy a popis -->
      <div class="flex-shrink-0 pt-8 lg:-mt-16 min-[1024px]:max-[1279px]:mt-8">
        <!-- Hlavní nadpis -->
        <h1
          id="hero-heading"
          class="mb-4 lg:mb-6 text-4xl sm:text-5xl lg:text-7xl font-extrabold text-orange-500"
        >
          VÁŠ NÁZEV
        </h1>

        <!-- Podnadpis H2 -->
        <h2 class="mb-6 lg:mb-16 text-2xl sm:text-3xl lg:text-6xl text-white">
          IT developer na volné noze
        </h2>

        <!-- Popis -->
        <p
          class="pb-16 md:pb-0mb-0 lg:mb-8 text-lg lg:text-xl font-medium leading-relaxed text-white px-4 lg:px-0"
        >
          Složte k zemi svou konkurenci. Navrhuji a stavím weby a pomáhám automatizovat rutinní
          úkoly. Mým nejčastějším klientem jsou malé a střední firmy, které preferují jasnou
          komunikaci a chtějí ušetřit čas.
        </p>
      </div>

      <!-- Div 2: SocialProof karty a tlačítko -->
      <div class="flex-shrink-0 lg:pb-0 md:-mt-8">
        <!-- SocialProof karty -->
        <div class="mb-6 lg:mb-8 flex justify-center lg:justify-start px-2 lg:px-0">
          <SocialProof
            items={heroItems}
            containerClass="flex gap-2 lg:gap-3"
            itemClass="flex-1"
            minHeight="min-h-[80px] lg:min-h-[92px]"
            maxWidth="max-w-full lg:max-w-3xl"
          />
        </div>

        <!-- Call to Action Button -->
        <div class="flex justify-center lg:justify-start">
          <Button
            text="Poptat nezávaznou konzultaci"
            href="#kontaktni-formular"
            variant="solid"
            class="max-w-sm"
          />
        </div>
      </div>
    </div>
  </div>

  <!-- Portrét - Mobilní (pod textem) -->
  <div class="relative w-full z-10 pointer-events-none flex md:hidden justify-center items-center">
    <img
      src="/Portrait-256w.webp"
      alt="Hero portrait"
      class="w-64 h-auto object-contain opacity-60"
      width={256}
      height={276}
      loading="lazy"
      decoding="async"
    />
  </div>

  <!-- Portrét - Desktop (přes text) -->
  <div class="absolute top-0 left-0 w-full min-h-screen z-10 pointer-events-none hidden md:flex">
    <div class="container mx-auto px-3 flex w-full min-h-screen">
      <!-- Levá strana - 50% prázdná -->
      <div class="w-0 lg:w-1/2 min-[1024px]:max-[1279px]:w-1/3"></div>

      <!-- Pravá strana - 50% s portrétem -->
      <div class="w-full lg:w-1/2 min-[1024px]:max-[1279px]:w-2/3 relative">
        <img
          src="/Portrait-512w.webp"
          alt="Hero portrait"
          class="absolute bottom-0 w-5/6 lg:w-full min-[1024px]:max-[1279px]:w-full h-auto object-contain mx-auto left-0 right-0"
          width={512}
          height={552}
          loading="lazy"
          decoding="async"
          srcset="/Portrait-256w.webp 256w, /Portrait-512w.webp 512w, /Portrait.webp 730w"
          sizes="(max-width: 768px) 256px, (min-width: 1280px) 730px, 512px"
        />
      </div>
    </div>
  </div>

  <!-- Šipka dolů -->
  <div class="hidden sm:block">
    <ArrowDown targetId="moje-sluzby" />
  </div>
</main>